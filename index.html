<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Guia SQL</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="icon" href="https://media.licdn.com/dms/image/v2/D4D03AQGu4lvFPVdFGA/profile-displayphoto-shrink_200_200/B4DZVqWGWKHwAg-/0/1741245933415?e=2147483647&v=beta&t=6Bsgiixcoj0kVN-u1l0iODTPoN5HXdG-7DYJEfWdw6k" type="image/x-icon">
  <style>
    body {
      background-color: #f4f6f8;
      font-family: 'Segoe UI', sans-serif;
    }
    .sidebar {
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      width: 250px;
      background-color: #343a40;
      padding-top: 2rem;
    }
    .sidebar a {
      padding: 15px;
      text-decoration: none;
      font-size: 1.1rem;
      color: #ffffff;
      display: block;
    }
    .sidebar a:hover {
      background-color: #495057;
    }
    .content {
      margin-left: 260px;
      padding: 2rem;
    }
    pre {
      background: #e9ecef;
      padding: 1rem;
      border-radius: 10px;
      overflow-x: auto;
    }
    h2 {
      margin-top: 2rem;
      border-bottom: 2px solid #dee2e6;
      padding-bottom: .5rem;
    }
    .section-block {
      margin-bottom: 2.5rem;
    }

    .button {
      position: fixed; 
      bottom: 20px; 
      right: 20px; 
      z-index: 10000; 
      padding: 12px 18px; 
      border: none; 
      border-radius: 50px; 
      background-color: rgba(245, 245, 245, 0.87);
      cursor: pointer;
    }

    .button-desplegado {
      position: fixed; 
      bottom: 20px; 
      right: 20px; 
      z-index: 10000; 
      padding: 12px 18px; 
      border: none; 
      border-radius: 50px; 
      background-color: rgba(124, 124, 124, 0.87);
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <a href="#join">JOIN</a>
    <a href="#group-by">GROUP BY</a>
    <a href="#having">HAVING</a>
    <a href="#subqueries">SUBCONSULTES</a>
    <a href="#count">COUNT()</a>
    <a href="#distinct">DISTINCT</a>
    <a href="#like">LIKE</a>
    <a href="#order-by">ORDER BY</a>
    <a href="#funcions-agregades">ALTRES FUNCIONS</a>
  </div>

  <div class="content">
    <h1 class="mb-4">üìò Guia SQL</h1>

    <!-- JOIN -->
    <section id="join" class="section-block">
      <h2>1. JOIN (Unir taules)</h2>
      <p>üîç Permet combinar dades de dues taules que tenen una relaci√≥ entre elles.</p>

      <h5>‚ñ∂ INNER JOIN</h5>
      <p>üéØ Mostra nom√©s les files amb coincid√®ncia a les dues taules.</p>
      <ul>
        <li><code>projecte p</code>: Taula que cont√© els projectes</li>
        <li><code>ambit a</code>: Taula que cont√© els √†mbits</li>
        <li><code>p.id_ambit = a.id_ambit</code>: Uneix cada projecte amb el seu √†mbit</li>
      </ul>
      <p><strong>Consulta SQL (Input):</strong></p>
      <pre><code>SELECT p.nom, a.nom AS ambit
FROM projecte p
INNER JOIN ambit a ON p.id_ambit = a.id_ambit;</code></pre>
      <p><strong>Resultat esperat (Output):</strong></p>
      <pre><code>+------------------+------------------+
| nom              | ambit            |
+------------------+------------------+
| Projecte Alpha   | Salut            |
| Projecte Beta    | Educaci√≥         |
+------------------+------------------+</code></pre>

      <h5>‚ñ∂ LEFT JOIN</h5>
      <p>üéØ Mostra tots els projectes, encara que no tinguin √†mbit assignat (sortir√† <code>NULL</code>).</p>
      <p><strong>Consulta SQL (Input):</strong></p>
      <pre><code>SELECT p.nom, a.nom AS ambit
FROM projecte p
LEFT JOIN ambit a ON p.id_ambit = a.id_ambit;</code></pre>
      <p><strong>Resultat esperat (Output):</strong></p>
      <pre><code>+------------------+------------------+
| nom              | ambit            |
+------------------+------------------+
| Projecte Alpha   | Salut            |
| Sense Ambit      | NULL             |
+------------------+------------------+</code></pre>
    </section>

    <!-- GROUP BY -->
    <section id="group-by" class="section-block">
      <h2>2. GROUP BY (Agrupar per camp)</h2>
      <p>üîç Agrupa les files per una columna i permet fer c√†lculs per grup.</p>
      <h5>‚ñ∂ GROUP BY amb COUNT()</h5>
      <p>üéØ Agrupa els projectes segons el seu √†mbit i compta quants projectes hi ha a cada grup.</p>
      <ul>
        <li><code>a.nom</code>: Nom de l‚Äô√†mbit</li>
        <li><code>COUNT(*)</code>: Comptador de quants projectes t√© cada √†mbit</li>
      </ul>
      <p><strong>Consulta SQL (Input):</strong></p>
      <pre><code>SELECT a.nom AS ambit, COUNT(*) AS num_projectes
FROM ambit a
INNER JOIN projecte p ON a.id_ambit = p.id_ambit
GROUP BY a.nom;</code></pre>
      <p><strong>Resultat esperat (Output):</strong></p>
      <pre><code>+------------------+------------------+
| ambit            | num_projectes    |
+------------------+------------------+
| Salut            | 3                |
| Educaci√≥         | 2                |
+------------------+------------------+</code></pre>
    </section>

    <!-- HAVING -->
    <section id="having" class="section-block">
      <h2>3. HAVING (Filtrar agrupacions)</h2>
      <p>üîç Filtra resultats despr√©s d‚Äôun <code>GROUP BY</code> (no es pot fer amb <code>WHERE</code>).</p>
      <h5>‚ñ∂ Filtrar per COUNT()</h5>
      <p>üéØ Mostra nom√©s els √†mbits amb m√©s de 3 projectes.</p>
      <ul>
        <li><code>HAVING COUNT(*) > 3</code>: Nom√©s mostra √†mbits amb m√©s de 3 projectes</li>
      </ul>
      <p><strong>Consulta SQL (Input):</strong></p>
      <pre><code>SELECT a.nom AS ambit, COUNT(*) AS num_projectes
FROM ambit a
INNER JOIN projecte p ON a.id_ambit = p.id_ambit
GROUP BY a.nom
HAVING COUNT(*) > 3;</code></pre>
      <p><strong>Resultat esperat (Output):</strong></p>
      <pre><code>+------------------+------------------+
| ambit            | num_projectes    |
+------------------+------------------+
| Tecnologia       | 4                |
+------------------+------------------+</code></pre>
    </section>

    <!-- SUBCONSULTES -->
    <section id="subqueries" class="section-block">
      <h2>4. SUBCONSULTES (Consultes dins d‚Äôaltres consultes)</h2>
      <p>üîç S‚Äôutilitzen per calcular valors que es comparen dins d‚Äôuna altra consulta.</p>
      <h5>‚ñ∂ Filtrar amb una mitjana</h5>
      <p>üéØ Filtra els projectes amb una durada superior a la mitjana de durada de tots els projectes.</p>
      <ul>
        <li><code>AVG(durada)</code>: Mitjana de durades de tots els projectes</li>
        <li><code>durada > (...) </code>: Filtra els projectes m√©s llargs que la mitjana</li>
      </ul>
      <p><strong>Consulta SQL (Input):</strong></p>
      <pre><code>SELECT nom, durada
FROM projecte
WHERE durada > (
    SELECT AVG(durada)
    FROM projecte
    );</code></pre>
      <p><strong>Resultat esperat (Output):</strong></p>
      <pre><code>+------------------+---------+
| nom              | durada  |
+------------------+---------+
| Projecte Alpha   | 14      |
+------------------+---------+</code></pre>
    </section>

    <!-- COUNT -->
    <section id="count" class="section-block">
      <h2>5. COUNT() (Comptar files)</h2>
      <p>üîç Retorna quantes files compleixen una condici√≥ (o total si no hi ha condici√≥).</p>
      <h5>‚ñ∂ Comptar investigadors</h5>
      <p>üéØ Mostra el nombre total d'investigadors.</p>
      <ul>
        <li><code>investigador</code>: Taula amb investigadors</li>
      </ul>
      <p><strong>Consulta SQL (Input):</strong></p>
      <pre><code>SELECT COUNT(*) AS total_investigadors
FROM investigador;</code></pre>
      <p><strong>Resultat esperat (Output):</strong></p>
      <pre><code>+-----------------------+
| total_investigadors   |
+-----------------------+
| 12                    |
+-----------------------+</code></pre>
    </section>

    <!-- DISTINCT -->
    <section id="distinct" class="section-block">
      <h2>6. DISTINCT (Eliminar duplicats)</h2>
      <p>üîç Evita repeticions mostrant valors √∫nics.</p>
      <h5>‚ñ∂ Eliminar duplicats d'investigadors</h5>
      <p>üéØ Mostra els noms i cognoms dels investigadors sense repeticions.</p>
      <ul>
        <li><code>i.nom, i.cognom</code>: Dades dels investigadors</li>
      </ul>
      <p><strong>Consulta SQL (Input):</strong></p>
      <pre><code>SELECT DISTINCT i.nom, i.cognom
FROM investigador i
INNER JOIN participacio ip ON i.id_investigador = ip.id_investigador;</code></pre>
      <p><strong>Resultat esperat (Output):</strong></p>
      <pre><code>+-----------+------------+
| nom       | cognom     |
+-----------+------------+
| Anna      | Riera      |
| Marc      | Prats      |
+-----------+------------+</code></pre>
    </section>

    <!-- LIKE -->
    <section id="like" class="section-block">
      <h2>7. LIKE (Filtrar per patr√≥)</h2>
      <p>üîç Cerca textos que compleixin un patr√≥. <code>%</code> vol dir qualsevol car√†cter.</p>
      <h5>‚ñ∂ Filtrar noms que comencen per A</h5>
      <p>üéØ Filtra els investigadors que tenen un nom que comen√ßa per "A".</p>
      <ul>
        <li><code>'A%'</code>: Noms que comencen per A</li>
      </ul>
      <p><strong>Consulta SQL (Input):</strong></p>
      <pre><code>SELECT nom, cognom
FROM investigador
WHERE nom LIKE 'A%';</code></pre>
      <p><strong>Resultat esperat (Output):</strong></p>
      <pre><code>+-----------+------------+
| nom       | cognom     |
+-----------+------------+
| Anna      | Riera      |
| Aina      | Costa      |
+-----------+------------+</code></pre>
    </section>

    <!-- ORDER BY -->
    <section id="order-by" class="section-block">
      <h2>8. ORDER BY (Ordenar resultats)</h2>
      <p>üîç Organitza les files segons una o m√©s columnes (ASC per defecte, DESC per descendent).</p>
      <h5>‚ñ∂ Ordenar projectes per durada</h5>
      <p>üéØ Ordena els projectes per durada de m√©s a menys.</p>
      <ul>
        <li><code>ORDER BY durada DESC</code>: Ordena projectes per durada de m√©s a menys</li>
      </ul>
      <p><strong>Consulta SQL (Input):</strong></p>
      <pre><code>SELECT nom, durada
FROM projecte
ORDER BY durada DESC;</code></pre>
      <p><strong>Resultat esperat (Output):</strong></p>
      <pre><code>+------------------+---------+
| nom              | durada  |
+------------------+---------+
| Projecte Zeta    | 15      |
| Projecte Alpha   | 12      |
+------------------+---------+</code></pre>
    </section>

<!-- FUNCIONS AGREGADES -->
<section id="funcions-agregades" class="section-block">
    <h2>6. ALTRES FUNCIONS</h2>
    <ul>
      <li><strong>AVG():</strong> Calcula el promig d‚Äôun conjunt de valors.</li>
      <li><strong>SUM():</strong> Suma els valors d'una columna.</li>
      <li><strong>MIN():</strong> Retorna el valor m√≠nim.</li>
      <li><strong>MAX():</strong> Retorna el valor m√†xim.</li>
    </ul>
  </section>
<!-- Bot√≥n flotante para abrir/cerrar el chatbot -->
<button id="toggleChatbot" class="button">  
</button>

<!-- Chatbot como secci√≥n normal (inicialmente oculta) -->
<section id="chatbotContainer" style="display: none; margin-top: 2rem;">
  <iframe
    src="https://www.chatbase.co/chatbot-iframe/0i0IW7bWtxQVlElPPigsp"
    width="100%"
    height="600px"
    frameborder="0"
    style="border: none;"
  ></iframe>
</section>


<script>
  const toggleButton = document.getElementById('toggleChatbot');
  const chatbot = document.getElementById('chatbotContainer');
  let isChatOpen = false;

  toggleButton.addEventListener('click', () => {
    isChatOpen = !isChatOpen;
    chatbot.style.display = isChatOpen ? 'block' : 'none';

    toggleButton.classList.toggle('button-desplegado', isChatOpen);
    toggleButton.classList.toggle('button', !isChatOpen);
  });
</script>





  
  
  </div>
</body>
</html>
